[2m2025-05-02T06:27:57.573703Z[0m [32m INFO[0m [2mmotek_api[0m[2m:[0m Starting Motek API server...
[2m2025-05-02T06:27:57.573804Z[0m [32m INFO[0m [2mmotek_api::utils::config_loader[0m[2m:[0m Loading config from file: config.dev.toml
[2m2025-05-02T06:27:57.574228Z[0m [32m INFO[0m [2mmotek_api::utils::config_loader[0m[2m:[0m Config loaded successfully for env: dev
[2m2025-05-02T06:27:57.574246Z[0m [32m INFO[0m [2mmotek_api::server[0m[2m:[0m Configuration loaded
[2m2025-05-02T06:27:57.601589Z[0m [32m INFO[0m [2mmotek_api::server[0m[2m:[0m Connected to PostgreSQL
[2m2025-05-02T06:30:38.522628Z[0m [32m INFO[0m [2mmotek_api[0m[2m:[0m Starting Motek API server...
[2m2025-05-02T06:30:38.522675Z[0m [32m INFO[0m [2mmotek_api::utils::config_loader[0m[2m:[0m Loading config from file: config.dev.toml
[2m2025-05-02T06:30:38.522920Z[0m [32m INFO[0m [2mmotek_api::utils::config_loader[0m[2m:[0m Config loaded successfully for env: dev
[2m2025-05-02T06:30:38.522929Z[0m [32m INFO[0m [2mmotek_api::server[0m[2m:[0m Configuration loaded
[2m2025-05-02T06:30:38.548219Z[0m [32m INFO[0m [2mmotek_api::server[0m[2m:[0m Connected to PostgreSQL
[2m2025-05-02T06:30:38.549915Z[0m [32m INFO[0m [2mmotek_api::server[0m[2m:[0m Server is online at http://127.0.0.1:3000
[2m2025-05-02T06:31:08.027069Z[0m [32m INFO[0m [2mmotek_api::routes::auth[0m[2m:[0m Login attempt for email: marcin.ryzko
[2m2025-05-02T06:31:08.031249Z[0m [32m INFO[0m [2mmotek_api::database::token[0m[2m:[0m JWT created for user=661ae3e9-c092-486b-87be-bbc4cf2c9977 platform=linux
[2m2025-05-02T06:31:08.031275Z[0m [32m INFO[0m [2mmotek_api::routes::auth[0m[2m:[0m User marcin.ryzko logged in successfully (platform: linux)
[2m2025-05-02T06:31:40.866063Z[0m [32m INFO[0m [2mmotek_api::database::token[0m[2m:[0m JWT verified for subject=661ae3e9-c092-486b-87be-bbc4cf2c9977
[2m2025-05-02T06:31:40.866795Z[0m [32m INFO[0m [2mmotek_api::utils::auth[0m[2m:[0m User with email 661ae3e9-c092-486b-87be-bbc4cf2c9977 not found
[2m2025-05-02T06:31:46.293025Z[0m [32m INFO[0m [2mmotek_api::routes::auth[0m[2m:[0m Login attempt for email: marcin.ryzko
[2m2025-05-02T06:31:46.295900Z[0m [32m INFO[0m [2mmotek_api::database::token[0m[2m:[0m JWT created for user=661ae3e9-c092-486b-87be-bbc4cf2c9977 platform=linux
[2m2025-05-02T06:31:46.295932Z[0m [32m INFO[0m [2mmotek_api::routes::auth[0m[2m:[0m User marcin.ryzko logged in successfully (platform: linux)
[2m2025-05-02T06:32:35.353533Z[0m [32m INFO[0m [2mmotek_api::database::token[0m[2m:[0m JWT verified for subject=661ae3e9-c092-486b-87be-bbc4cf2c9977
[2m2025-05-02T06:32:35.354254Z[0m [32m INFO[0m [2mmotek_api::utils::auth[0m[2m:[0m User with email 661ae3e9-c092-486b-87be-bbc4cf2c9977 not found
[2m2025-05-02T06:32:36.665049Z[0m [32m INFO[0m [2mmotek_api::database::token[0m[2m:[0m JWT verified for subject=661ae3e9-c092-486b-87be-bbc4cf2c9977
[2m2025-05-02T06:32:36.665494Z[0m [32m INFO[0m [2mmotek_api::utils::auth[0m[2m:[0m User with email 661ae3e9-c092-486b-87be-bbc4cf2c9977 not found
[2m2025-05-02T06:32:46.714186Z[0m [32m INFO[0m [2mmotek_api::database::token[0m[2m:[0m JWT verified for subject=661ae3e9-c092-486b-87be-bbc4cf2c9977
[2m2025-05-02T06:32:46.714815Z[0m [32m INFO[0m [2mmotek_api::utils::auth[0m[2m:[0m User with email 661ae3e9-c092-486b-87be-bbc4cf2c9977 not found
[2m2025-05-02T06:33:20.978859Z[0m [32m INFO[0m [2mmotek_api::database::token[0m[2m:[0m JWT verified for subject=661ae3e9-c092-486b-87be-bbc4cf2c9977
[2m2025-05-02T06:33:20.979393Z[0m [32m INFO[0m [2mmotek_api::utils::auth[0m[2m:[0m User with email 661ae3e9-c092-486b-87be-bbc4cf2c9977 not found
[2m2025-05-02T06:43:39.947641Z[0m [32m INFO[0m [2mmotek_api[0m[2m:[0m Starting Motek API server...
[2m2025-05-02T06:43:39.947668Z[0m [32m INFO[0m [2mmotek_api::utils::config_loader[0m[2m:[0m Loading config from file: config.dev.toml
[2m2025-05-02T06:43:39.947917Z[0m [32m INFO[0m [2mmotek_api::utils::config_loader[0m[2m:[0m Config loaded successfully for env: dev
[2m2025-05-02T06:43:39.947927Z[0m [32m INFO[0m [2mmotek_api::server[0m[2m:[0m Configuration loaded
[2m2025-05-02T06:43:39.973317Z[0m [32m INFO[0m [2mmotek_api::server[0m[2m:[0m Connected to PostgreSQL
[2m2025-05-02T06:43:39.974138Z[0m [32m INFO[0m [2mmotek_api::server[0m[2m:[0m Server is online at http://127.0.0.1:3000
[2m2025-05-02T06:43:57.858540Z[0m [32m INFO[0m [2mmotek_api::routes::auth[0m[2m:[0m Login attempt for email: marcin.ryzko
[2m2025-05-02T06:43:57.860107Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT * FROM users â€¦" [3mdb.statement[0m[2m=[0m"\n\nSELECT * FROM users WHERE email = $1\n" [3mrows_affected[0m[2m=[0m1 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m1.114009ms [3melapsed_secs[0m[2m=[0m0.001114009
[2m2025-05-02T06:43:57.862210Z[0m [32m INFO[0m [2mmotek_api::database::token[0m[2m:[0m JWT created for user=661ae3e9-c092-486b-87be-bbc4cf2c9977 platform=linux
[2m2025-05-02T06:43:57.862221Z[0m [32m INFO[0m [2mmotek_api::routes::auth[0m[2m:[0m User marcin.ryzko logged in successfully (platform: linux)
[2m2025-05-02T06:44:06.433976Z[0m [32m INFO[0m [2mmotek_api::database::token[0m[2m:[0m JWT verified for subject=661ae3e9-c092-486b-87be-bbc4cf2c9977
[2m2025-05-02T06:44:06.434844Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT * FROM users â€¦" [3mdb.statement[0m[2m=[0m"\n\nSELECT * FROM users WHERE email=$1\n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m591.145Âµs [3melapsed_secs[0m[2m=[0m0.000591145
[2m2025-05-02T06:44:06.434894Z[0m [32m INFO[0m [2mmotek_api::utils::auth[0m[2m:[0m User with email 661ae3e9-c092-486b-87be-bbc4cf2c9977 not found
[2m2025-05-02T06:44:34.234321Z[0m [32m INFO[0m [2mmotek_api::database::token[0m[2m:[0m JWT verified for subject=661ae3e9-c092-486b-87be-bbc4cf2c9977
[2m2025-05-02T06:44:34.235059Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT * FROM users â€¦" [3mdb.statement[0m[2m=[0m"\n\nSELECT * FROM users WHERE email=$1\n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m432.572Âµs [3melapsed_secs[0m[2m=[0m0.000432572
[2m2025-05-02T06:44:34.235124Z[0m [32m INFO[0m [2mmotek_api::utils::auth[0m[2m:[0m User with email 661ae3e9-c092-486b-87be-bbc4cf2c9977 not found
[2m2025-05-02T06:50:54.822397Z[0m [32m INFO[0m [2mmotek_api[0m[2m:[0m Starting Motek API server...
[2m2025-05-02T06:50:54.822441Z[0m [32m INFO[0m [2mmotek_api::utils::config_loader[0m[2m:[0m Loading config from file: config.dev.toml
[2m2025-05-02T06:50:54.822681Z[0m [32m INFO[0m [2mmotek_api::utils::config_loader[0m[2m:[0m Config loaded successfully for env: dev
[2m2025-05-02T06:50:54.822692Z[0m [32m INFO[0m [2mmotek_api::server[0m[2m:[0m Configuration loaded
[2m2025-05-02T06:50:54.846463Z[0m [32m INFO[0m [2mmotek_api::server[0m[2m:[0m Connected to PostgreSQL
[2m2025-05-02T06:50:54.847265Z[0m [32m INFO[0m [2mmotek_api::server[0m[2m:[0m Server is online at http://127.0.0.1:3000
[2m2025-05-02T06:51:04.256400Z[0m [32m INFO[0m [2mmotek_api::routes::auth[0m[2m:[0m Login attempt for email: marcin.ryzko
[2m2025-05-02T06:51:04.258455Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT * FROM users â€¦" [3mdb.statement[0m[2m=[0m"\n\nSELECT * FROM users WHERE email = $1\n" [3mrows_affected[0m[2m=[0m1 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m1.598887ms [3melapsed_secs[0m[2m=[0m0.001598887
[2m2025-05-02T06:51:04.260905Z[0m [32m INFO[0m [2mmotek_api::database::token[0m[2m:[0m JWT created for user=661ae3e9-c092-486b-87be-bbc4cf2c9977 platform=linux
[2m2025-05-02T06:51:04.260925Z[0m [32m INFO[0m [2mmotek_api::routes::auth[0m[2m:[0m User marcin.ryzko logged in successfully (platform: linux)
[2m2025-05-02T06:51:10.624547Z[0m [32m INFO[0m [2mmotek_api::database::token[0m[2m:[0m JWT verified for subject=661ae3e9-c092-486b-87be-bbc4cf2c9977
[2m2025-05-02T06:51:10.625185Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT * FROM users â€¦" [3mdb.statement[0m[2m=[0m"\n\nSELECT * FROM users WHERE id=$1\n" [3mrows_affected[0m[2m=[0m1 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m424.665Âµs [3melapsed_secs[0m[2m=[0m0.000424665
[2m2025-05-02T06:51:10.625231Z[0m [32m INFO[0m [2mmotek_api::utils::auth[0m[2m:[0m Authenticated user_id=661ae3e9-c092-486b-87be-bbc4cf2c9977 email=marcin.ryzko
[2m2025-05-02T06:51:10.625294Z[0m [34mDEBUG[0m [1mrequest[0m[1m{[0m[3mmethod[0m[2m=[0mGET [3muri[0m[2m=[0m/api/notes [3mversion[0m[2m=[0mHTTP/1.1[1m}[0m[2m:[0m [2mtower_http::trace::on_request[0m[2m:[0m started processing request
[2m2025-05-02T06:51:10.625348Z[0m [32m INFO[0m [1mrequest[0m[1m{[0m[3mmethod[0m[2m=[0mGET [3muri[0m[2m=[0m/api/notes [3mversion[0m[2m=[0mHTTP/1.1[1m}[0m[2m:[0m [2mmotek_api::utils::extractors[0m[2m:[0m Extracted authenticated user_id=661ae3e9-c092-486b-87be-bbc4cf2c9977
[2m2025-05-02T06:51:10.625365Z[0m [32m INFO[0m [1mrequest[0m[1m{[0m[3mmethod[0m[2m=[0mGET [3muri[0m[2m=[0m/api/notes [3mversion[0m[2m=[0mHTTP/1.1[1m}[0m[2m:[0m [2mmotek_api::routes::notes[0m[2m:[0m User 661ae3e9-c092-486b-87be-bbc4cf2c9977 requested notes list
[2m2025-05-02T06:51:10.653060Z[0m [34mDEBUG[0m [1mrequest[0m[1m{[0m[3mmethod[0m[2m=[0mGET [3muri[0m[2m=[0m/api/notes [3mversion[0m[2m=[0mHTTP/1.1[1m}[0m[2m:[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT * FROM notes â€¦" [3mdb.statement[0m[2m=[0m"\n\nSELECT * FROM notes WHERE user_id = $1 ORDER BY updated_at DESC\n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m1.313727ms [3melapsed_secs[0m[2m=[0m0.001313727
[2m2025-05-02T06:51:10.653152Z[0m [34mDEBUG[0m [1mrequest[0m[1m{[0m[3mmethod[0m[2m=[0mGET [3muri[0m[2m=[0m/api/notes [3mversion[0m[2m=[0mHTTP/1.1[1m}[0m[2m:[0m [2mtower_http::trace::on_response[0m[2m:[0m finished processing request [3mlatency[0m[2m=[0m27 ms [3mstatus[0m[2m=[0m200
[2m2025-05-02T08:48:45.175109Z[0m [32m INFO[0m [2mmotek_api[0m[2m:[0m Starting Motek API server...
[2m2025-05-02T08:48:45.175221Z[0m [32m INFO[0m [2mmotek_api::utils::config_loader[0m[2m:[0m Loading config from file: config.dev.toml
[2m2025-05-02T08:48:45.175671Z[0m [32m INFO[0m [2mmotek_api::utils::config_loader[0m[2m:[0m Config loaded successfully for env: dev
[2m2025-05-02T08:48:45.175684Z[0m [32m INFO[0m [2mmotek_api::server[0m[2m:[0m Configuration loaded
[2m2025-05-02T08:48:45.201261Z[0m [32m INFO[0m [2mmotek_api::server[0m[2m:[0m Connected to PostgreSQL
[2m2025-05-02T08:57:41.728349Z[0m [32m INFO[0m [2mmotek_api[0m[2m:[0m Starting Motek API server...
[2m2025-05-02T08:57:41.728410Z[0m [32m INFO[0m [2mmotek_api::utils::config_loader[0m[2m:[0m Loading config from file: config.dev.toml
[2m2025-05-02T08:57:41.728876Z[0m [32m INFO[0m [2mmotek_api::utils::config_loader[0m[2m:[0m Config loaded successfully for env: dev
[2m2025-05-02T08:57:41.728896Z[0m [32m INFO[0m [2mmotek_api::server[0m[2m:[0m Configuration loaded
[2m2025-05-02T08:57:41.753096Z[0m [32m INFO[0m [2mmotek_api::server[0m[2m:[0m Connected to PostgreSQL
[2m2025-05-02T08:57:41.754263Z[0m [32m INFO[0m [2mmotek_api::server[0m[2m:[0m Server is online at http://127.0.0.1:3000
[2m2025-05-02T08:57:52.947382Z[0m [32m INFO[0m [2mmotek_api::routes::auth[0m[2m:[0m Login attempt for email: marcin.ryzko, ip: 127.0.0.1
[2m2025-05-02T08:57:52.947430Z[0m [32m INFO[0m [2mmotek_api::utils::ip_limiter[0m[2m:[0m Registration allowed for IP 127.0.0.1 (total in last hour: 1)
[2m2025-05-02T08:57:52.948793Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT * FROM users â€¦" [3mdb.statement[0m[2m=[0m"\n\nSELECT * FROM users WHERE email = $1\n" [3mrows_affected[0m[2m=[0m1 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m1.031064ms [3melapsed_secs[0m[2m=[0m0.001031064
[2m2025-05-02T08:57:52.951075Z[0m [32m INFO[0m [2mmotek_api::database::token[0m[2m:[0m JWT created for user=661ae3e9-c092-486b-87be-bbc4cf2c9977 platform=linux
[2m2025-05-02T08:57:52.985470Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"INSERT INTO refresh_tokens (user_id, â€¦" [3mdb.statement[0m[2m=[0m"\n\nINSERT INTO refresh_tokens (user_id, token, expires_at) VALUES ($1, $2, $3) RETURNING *\n" [3mrows_affected[0m[2m=[0m1 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m5.547982ms [3melapsed_secs[0m[2m=[0m0.005547982
[2m2025-05-02T08:57:52.985546Z[0m [31mERROR[0m [2mmotek_api::routes::auth[0m[2m:[0m Refresh token creation error for marcin.ryzko: error occurred while decoding column "created_at": mismatched types; Rust type `chrono::datetime::DateTime<chrono::offset::utc::Utc>` (as SQL type `TIMESTAMPTZ`) is not compatible with SQL type `TIMESTAMP`
[2m2025-05-02T08:58:27.596156Z[0m [32m INFO[0m [2mmotek_api::routes::auth[0m[2m:[0m Registration attempt from IP: 127.0.0.1
[2m2025-05-02T08:58:27.596185Z[0m [32m INFO[0m [2mmotek_api::utils::ip_limiter[0m[2m:[0m Registration allowed for IP 127.0.0.1 (total in last hour: 1)
[2m2025-05-02T08:58:37.898870Z[0m [32m INFO[0m [2mmotek_api::routes::auth[0m[2m:[0m Registration attempt from IP: 127.0.0.1
[2m2025-05-02T08:58:37.898905Z[0m [33m WARN[0m [2mmotek_api::utils::ip_limiter[0m[2m:[0m Registration denied for IP 127.0.0.1: limit 1/hour exceeded
[2m2025-05-02T08:58:37.898914Z[0m [32m INFO[0m [2mmotek_api::routes::auth[0m[2m:[0m Registration rate limit exceeded for IP: 127.0.0.1
[2m2025-05-02T08:59:20.413400Z[0m [32m INFO[0m [2mmotek_api[0m[2m:[0m Starting Motek API server...
[2m2025-05-02T08:59:20.413432Z[0m [32m INFO[0m [2mmotek_api::utils::config_loader[0m[2m:[0m Loading config from file: config.dev.toml
[2m2025-05-02T08:59:20.413695Z[0m [32m INFO[0m [2mmotek_api::utils::config_loader[0m[2m:[0m Config loaded successfully for env: dev
[2m2025-05-02T08:59:20.413707Z[0m [32m INFO[0m [2mmotek_api::server[0m[2m:[0m Configuration loaded
[2m2025-05-02T08:59:20.439316Z[0m [32m INFO[0m [2mmotek_api::server[0m[2m:[0m Connected to PostgreSQL
[2m2025-05-02T08:59:20.440325Z[0m [32m INFO[0m [2mmotek_api::server[0m[2m:[0m Server is online at http://127.0.0.1:3000
[2m2025-05-02T08:59:22.797807Z[0m [32m INFO[0m [2mmotek_api::routes::auth[0m[2m:[0m Registration attempt from IP: 127.0.0.1
[2m2025-05-02T08:59:22.797840Z[0m [32m INFO[0m [2mmotek_api::utils::ip_limiter[0m[2m:[0m Registration allowed for IP 127.0.0.1 (total in last hour: 1)
[2m2025-05-02T08:59:22.799496Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT id FROM users â€¦" [3mdb.statement[0m[2m=[0m"\n\nSELECT id FROM users WHERE email = $1 LIMIT 1\n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m1.314178ms [3melapsed_secs[0m[2m=[0m0.001314178
[2m2025-05-02T08:59:23.357105Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"INSERT INTO users (email, â€¦" [3mdb.statement[0m[2m=[0m"\n\nINSERT INTO users (email, password) VALUES ($1, $2) RETURNING *\n" [3mrows_affected[0m[2m=[0m1 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m28.260476ms [3melapsed_secs[0m[2m=[0m0.028260476
[2m2025-05-02T08:59:23.357201Z[0m [32m INFO[0m [2mmotek_api::routes::auth[0m[2m:[0m User m.ryzko@gmail.com registered successfully from IP 127.0.0.1
[2m2025-05-02T08:59:28.961395Z[0m [32m INFO[0m [2mmotek_api::routes::auth[0m[2m:[0m Login attempt for email: marcin.ryzko, ip: 127.0.0.1
[2m2025-05-02T08:59:28.961426Z[0m [32m INFO[0m [2mmotek_api::utils::ip_limiter[0m[2m:[0m Registration allowed for IP 127.0.0.1 (total in last hour: 1)
[2m2025-05-02T08:59:28.962197Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT * FROM users â€¦" [3mdb.statement[0m[2m=[0m"\n\nSELECT * FROM users WHERE email = $1\n" [3mrows_affected[0m[2m=[0m1 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m546.187Âµs [3melapsed_secs[0m[2m=[0m0.000546187
[2m2025-05-02T08:59:28.964271Z[0m [32m INFO[0m [2mmotek_api::database::token[0m[2m:[0m JWT created for user=661ae3e9-c092-486b-87be-bbc4cf2c9977 platform=linux
[2m2025-05-02T08:59:28.969278Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"INSERT INTO refresh_tokens (user_id, â€¦" [3mdb.statement[0m[2m=[0m"\n\nINSERT INTO refresh_tokens (user_id, token, expires_at) VALUES ($1, $2, $3) RETURNING *\n" [3mrows_affected[0m[2m=[0m1 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m4.760736ms [3melapsed_secs[0m[2m=[0m0.004760736
[2m2025-05-02T08:59:28.969360Z[0m [31mERROR[0m [2mmotek_api::routes::auth[0m[2m:[0m Refresh token creation error for marcin.ryzko: error occurred while decoding column "created_at": mismatched types; Rust type `chrono::datetime::DateTime<chrono::offset::utc::Utc>` (as SQL type `TIMESTAMPTZ`) is not compatible with SQL type `TIMESTAMP`
[2m2025-05-02T09:00:31.464218Z[0m [32m INFO[0m [2mmotek_api::routes::auth[0m[2m:[0m Login attempt for email: m.ryzko@gmail.com, ip: 127.0.0.1
[2m2025-05-02T09:00:31.464256Z[0m [32m INFO[0m [2mmotek_api::utils::ip_limiter[0m[2m:[0m Registration allowed for IP 127.0.0.1 (total in last hour: 2)
[2m2025-05-02T09:00:31.464767Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT * FROM users â€¦" [3mdb.statement[0m[2m=[0m"\n\nSELECT * FROM users WHERE email = $1\n" [3mrows_affected[0m[2m=[0m1 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m245.013Âµs [3melapsed_secs[0m[2m=[0m0.000245013
[2m2025-05-02T09:00:31.941168Z[0m [32m INFO[0m [2mmotek_api::database::token[0m[2m:[0m JWT created for user=ccef2765-a84d-4165-8482-f3ef319caa99 platform=linux
[2m2025-05-02T09:00:31.950441Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"INSERT INTO refresh_tokens (user_id, â€¦" [3mdb.statement[0m[2m=[0m"\n\nINSERT INTO refresh_tokens (user_id, token, expires_at) VALUES ($1, $2, $3) RETURNING *\n" [3mrows_affected[0m[2m=[0m1 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m8.909516ms [3melapsed_secs[0m[2m=[0m0.008909516
[2m2025-05-02T09:00:31.950504Z[0m [31mERROR[0m [2mmotek_api::routes::auth[0m[2m:[0m Refresh token creation error for m.ryzko@gmail.com: error occurred while decoding column "created_at": mismatched types; Rust type `chrono::datetime::DateTime<chrono::offset::utc::Utc>` (as SQL type `TIMESTAMPTZ`) is not compatible with SQL type `TIMESTAMP`
[2m2025-05-02T09:00:54.842276Z[0m [32m INFO[0m [2mmotek_api[0m[2m:[0m Starting Motek API server...
[2m2025-05-02T09:00:54.842314Z[0m [32m INFO[0m [2mmotek_api::utils::config_loader[0m[2m:[0m Loading config from file: config.dev.toml
[2m2025-05-02T09:00:54.842573Z[0m [32m INFO[0m [2mmotek_api::utils::config_loader[0m[2m:[0m Config loaded successfully for env: dev
[2m2025-05-02T09:00:54.842588Z[0m [32m INFO[0m [2mmotek_api::server[0m[2m:[0m Configuration loaded
[2m2025-05-02T09:00:54.866489Z[0m [32m INFO[0m [2mmotek_api::server[0m[2m:[0m Connected to PostgreSQL
[2m2025-05-02T09:00:54.867529Z[0m [32m INFO[0m [2mmotek_api::server[0m[2m:[0m Server is online at http://127.0.0.1:3000
[2m2025-05-02T09:00:57.380281Z[0m [32m INFO[0m [2mmotek_api::routes::auth[0m[2m:[0m Login attempt for email: m.ryzko@gmail.com, ip: 127.0.0.1
[2m2025-05-02T09:00:57.380317Z[0m [32m INFO[0m [2mmotek_api::utils::ip_limiter[0m[2m:[0m Registration allowed for IP 127.0.0.1 (total in last hour: 1)
[2m2025-05-02T09:00:57.382125Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT * FROM users â€¦" [3mdb.statement[0m[2m=[0m"\n\nSELECT * FROM users WHERE email = $1\n" [3mrows_affected[0m[2m=[0m1 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m1.438696ms [3melapsed_secs[0m[2m=[0m0.001438696
[2m2025-05-02T09:00:57.852996Z[0m [32m INFO[0m [2mmotek_api::database::token[0m[2m:[0m JWT created for user=ccef2765-a84d-4165-8482-f3ef319caa99 platform=linux
[2m2025-05-02T09:00:57.878906Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"INSERT INTO refresh_tokens (user_id, â€¦" [3mdb.statement[0m[2m=[0m"\n\nINSERT INTO refresh_tokens (user_id, token, expires_at) VALUES ($1, $2, $3) RETURNING *\n" [3mrows_affected[0m[2m=[0m1 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m2.398542ms [3melapsed_secs[0m[2m=[0m0.002398542
[2m2025-05-02T09:00:57.878998Z[0m [31mERROR[0m [2mmotek_api::routes::auth[0m[2m:[0m Refresh token creation error for m.ryzko@gmail.com: error occurred while decoding column "created_at": mismatched types; Rust type `chrono::datetime::DateTime<chrono::offset::utc::Utc>` (as SQL type `TIMESTAMPTZ`) is not compatible with SQL type `TIMESTAMP`
[2m2025-05-02T09:03:39.440559Z[0m [32m INFO[0m [2mmotek_api::routes::auth[0m[2m:[0m Login attempt for email: m.ryzko@gmail.com, ip: 127.0.0.1
[2m2025-05-02T09:03:39.440593Z[0m [32m INFO[0m [2mmotek_api::utils::ip_limiter[0m[2m:[0m Registration allowed for IP 127.0.0.1 (total in last hour: 2)
[2m2025-05-02T09:03:39.441128Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT * FROM users â€¦" [3mdb.statement[0m[2m=[0m"\n\nSELECT * FROM users WHERE email = $1\n" [3mrows_affected[0m[2m=[0m1 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m244.816Âµs [3melapsed_secs[0m[2m=[0m0.000244816
[2m2025-05-02T09:03:39.917453Z[0m [32m INFO[0m [2mmotek_api::database::token[0m[2m:[0m JWT created for user=ccef2765-a84d-4165-8482-f3ef319caa99 platform=linux
[2m2025-05-02T09:03:39.919276Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"INSERT INTO refresh_tokens (user_id, â€¦" [3mdb.statement[0m[2m=[0m"\n\nINSERT INTO refresh_tokens (user_id, token, expires_at) VALUES ($1, $2, $3) RETURNING *\n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m1.338017ms [3melapsed_secs[0m[2m=[0m0.001338017
[2m2025-05-02T09:03:39.919314Z[0m [31mERROR[0m [2mmotek_api::routes::auth[0m[2m:[0m Refresh token creation error for m.ryzko@gmail.com: error returned from database: cached plan must not change result type
[2m2025-05-02T09:06:31.556298Z[0m [32m INFO[0m [2mmotek_api[0m[2m:[0m Starting Motek API server...
[2m2025-05-02T09:06:31.556348Z[0m [32m INFO[0m [2mmotek_api::utils::config_loader[0m[2m:[0m Loading config from file: config.dev.toml
[2m2025-05-02T09:06:31.556762Z[0m [32m INFO[0m [2mmotek_api::utils::config_loader[0m[2m:[0m Config loaded successfully for env: dev
[2m2025-05-02T09:06:31.556779Z[0m [32m INFO[0m [2mmotek_api::server[0m[2m:[0m Configuration loaded
[2m2025-05-02T09:06:31.584002Z[0m [32m INFO[0m [2mmotek_api::server[0m[2m:[0m Connected to PostgreSQL
[2m2025-05-02T09:06:31.585099Z[0m [32m INFO[0m [2mmotek_api::server[0m[2m:[0m Server is online at http://127.0.0.1:3000
[2m2025-05-02T09:06:37.509847Z[0m [32m INFO[0m [2mmotek_api::routes::auth[0m[2m:[0m Login attempt for email: m.ryzko@gmail.com, ip: 127.0.0.1
[2m2025-05-02T09:06:37.509901Z[0m [32m INFO[0m [2mmotek_api::utils::ip_limiter[0m[2m:[0m Registration allowed for IP 127.0.0.1 (total in last hour: 1)
[2m2025-05-02T09:06:37.511555Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT * FROM users â€¦" [3mdb.statement[0m[2m=[0m"\n\nSELECT * FROM users WHERE email = $1\n" [3mrows_affected[0m[2m=[0m1 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m1.319241ms [3melapsed_secs[0m[2m=[0m0.001319241
[2m2025-05-02T09:06:37.985127Z[0m [32m INFO[0m [2mmotek_api::database::token[0m[2m:[0m JWT created for user=ccef2765-a84d-4165-8482-f3ef319caa99 platform=linux
[2m2025-05-02T09:06:38.014527Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"INSERT INTO refresh_tokens (user_id, â€¦" [3mdb.statement[0m[2m=[0m"\n\nINSERT INTO refresh_tokens (user_id, token, expires_at) VALUES ($1, $2, $3) RETURNING *\n" [3mrows_affected[0m[2m=[0m1 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m4.980435ms [3melapsed_secs[0m[2m=[0m0.004980435
[2m2025-05-02T09:06:38.014611Z[0m [32m INFO[0m [2mmotek_api::database::token[0m[2m:[0m Created new refresh token for user_id=ccef2765-a84d-4165-8482-f3ef319caa99
[2m2025-05-02T09:06:38.014620Z[0m [32m INFO[0m [2mmotek_api::routes::auth[0m[2m:[0m User m.ryzko@gmail.com logged in successfully (platform: linux)
[2m2025-05-02T09:17:14.626168Z[0m [32m INFO[0m [2mmotek_api::routes::auth[0m[2m:[0m Login attempt for email: m.ryzko@gmail.com, ip: 127.0.0.1
[2m2025-05-02T09:17:14.626210Z[0m [32m INFO[0m [2mmotek_api::utils::ip_limiter[0m[2m:[0m Registration allowed for IP 127.0.0.1 (total in last hour: 2)
[2m2025-05-02T09:17:14.626748Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT * FROM users â€¦" [3mdb.statement[0m[2m=[0m"\n\nSELECT * FROM users WHERE email = $1\n" [3mrows_affected[0m[2m=[0m1 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m322.555Âµs [3melapsed_secs[0m[2m=[0m0.000322555
[2m2025-05-02T09:17:15.118094Z[0m [32m INFO[0m [2mmotek_api::database::token[0m[2m:[0m JWT created for user=ccef2765-a84d-4165-8482-f3ef319caa99 platform=linux
[2m2025-05-02T09:17:15.123027Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"INSERT INTO refresh_tokens (user_id, â€¦" [3mdb.statement[0m[2m=[0m"\n\nINSERT INTO refresh_tokens (user_id, token, expires_at) VALUES ($1, $2, $3) RETURNING *\n" [3mrows_affected[0m[2m=[0m1 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m4.400516ms [3melapsed_secs[0m[2m=[0m0.004400516
[2m2025-05-02T09:17:15.123118Z[0m [32m INFO[0m [2mmotek_api::database::token[0m[2m:[0m Created new refresh token for user_id=ccef2765-a84d-4165-8482-f3ef319caa99
[2m2025-05-02T09:17:15.123127Z[0m [32m INFO[0m [2mmotek_api::routes::auth[0m[2m:[0m User m.ryzko@gmail.com logged in successfully (platform: linux)
[2m2025-05-02T09:17:23.714338Z[0m [32m INFO[0m [2mmotek_api::database::token[0m[2m:[0m JWT verified for subject=ccef2765-a84d-4165-8482-f3ef319caa99
[2m2025-05-02T09:17:23.715069Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT * FROM users â€¦" [3mdb.statement[0m[2m=[0m"\n\nSELECT * FROM users WHERE id=$1\n" [3mrows_affected[0m[2m=[0m1 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m474.755Âµs [3melapsed_secs[0m[2m=[0m0.000474755
[2m2025-05-02T09:17:23.715148Z[0m [32m INFO[0m [2mmotek_api::utils::auth[0m[2m:[0m Authenticated user_id=ccef2765-a84d-4165-8482-f3ef319caa99 email=m.ryzko@gmail.com
[2m2025-05-02T09:17:23.715238Z[0m [34mDEBUG[0m [1mrequest[0m[1m{[0m[3mmethod[0m[2m=[0mGET [3muri[0m[2m=[0m/api/notes [3mversion[0m[2m=[0mHTTP/1.1[1m}[0m[2m:[0m [2mtower_http::trace::on_request[0m[2m:[0m started processing request
[2m2025-05-02T09:17:23.715328Z[0m [32m INFO[0m [1mrequest[0m[1m{[0m[3mmethod[0m[2m=[0mGET [3muri[0m[2m=[0m/api/notes [3mversion[0m[2m=[0mHTTP/1.1[1m}[0m[2m:[0m [2mmotek_api::utils::extractors[0m[2m:[0m Extracted authenticated user_id=ccef2765-a84d-4165-8482-f3ef319caa99
[2m2025-05-02T09:17:23.715362Z[0m [32m INFO[0m [1mrequest[0m[1m{[0m[3mmethod[0m[2m=[0mGET [3muri[0m[2m=[0m/api/notes [3mversion[0m[2m=[0mHTTP/1.1[1m}[0m[2m:[0m [2mmotek_api::routes::notes[0m[2m:[0m User ccef2765-a84d-4165-8482-f3ef319caa99 requested notes list
[2m2025-05-02T09:17:23.716672Z[0m [34mDEBUG[0m [1mrequest[0m[1m{[0m[3mmethod[0m[2m=[0mGET [3muri[0m[2m=[0m/api/notes [3mversion[0m[2m=[0mHTTP/1.1[1m}[0m[2m:[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT * FROM notes â€¦" [3mdb.statement[0m[2m=[0m"\n\nSELECT * FROM notes WHERE user_id = $1 ORDER BY updated_at DESC\n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m966.801Âµs [3melapsed_secs[0m[2m=[0m0.000966801
[2m2025-05-02T09:17:23.716750Z[0m [34mDEBUG[0m [1mrequest[0m[1m{[0m[3mmethod[0m[2m=[0mGET [3muri[0m[2m=[0m/api/notes [3mversion[0m[2m=[0mHTTP/1.1[1m}[0m[2m:[0m [2mtower_http::trace::on_response[0m[2m:[0m finished processing request [3mlatency[0m[2m=[0m1 ms [3mstatus[0m[2m=[0m200
[2m2025-05-02T09:17:47.542555Z[0m [32m INFO[0m [2mmotek_api::database::token[0m[2m:[0m JWT verified for subject=ccef2765-a84d-4165-8482-f3ef319caa99
[2m2025-05-02T09:17:47.543192Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT * FROM users â€¦" [3mdb.statement[0m[2m=[0m"\n\nSELECT * FROM users WHERE id=$1\n" [3mrows_affected[0m[2m=[0m1 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m274.671Âµs [3melapsed_secs[0m[2m=[0m0.000274671
[2m2025-05-02T09:17:47.543246Z[0m [32m INFO[0m [2mmotek_api::utils::auth[0m[2m:[0m Authenticated user_id=ccef2765-a84d-4165-8482-f3ef319caa99 email=m.ryzko@gmail.com
[2m2025-05-02T09:17:47.543298Z[0m [34mDEBUG[0m [1mrequest[0m[1m{[0m[3mmethod[0m[2m=[0mPOST [3muri[0m[2m=[0m/api/auth/logout_all [3mversion[0m[2m=[0mHTTP/1.1[1m}[0m[2m:[0m [2mtower_http::trace::on_request[0m[2m:[0m started processing request
[2m2025-05-02T09:17:47.543339Z[0m [34mDEBUG[0m [1mrequest[0m[1m{[0m[3mmethod[0m[2m=[0mPOST [3muri[0m[2m=[0m/api/auth/logout_all [3mversion[0m[2m=[0mHTTP/1.1[1m}[0m[2m:[0m [2mtower_http::trace::on_response[0m[2m:[0m finished processing request [3mlatency[0m[2m=[0m0 ms [3mstatus[0m[2m=[0m404
[2m2025-05-02T09:51:57.698596Z[0m [32m INFO[0m [2mmotek_api::routes::auth[0m[2m:[0m Login attempt for email: m.ryzko@gmail.com, ip: 127.0.0.1
[2m2025-05-02T09:51:57.698635Z[0m [32m INFO[0m [2mmotek_api::utils::ip_limiter[0m[2m:[0m Registration allowed for IP 127.0.0.1 (total in last hour: 3)
[2m2025-05-02T09:51:57.726439Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT * FROM users â€¦" [3mdb.statement[0m[2m=[0m"\n\nSELECT * FROM users WHERE email = $1\n" [3mrows_affected[0m[2m=[0m1 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m1.098392ms [3melapsed_secs[0m[2m=[0m0.001098392
[2m2025-05-02T09:51:58.214744Z[0m [32m INFO[0m [2mmotek_api::database::token[0m[2m:[0m JWT created for user=ccef2765-a84d-4165-8482-f3ef319caa99 platform=linux
[2m2025-05-02T09:51:58.243783Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"INSERT INTO refresh_tokens (user_id, â€¦" [3mdb.statement[0m[2m=[0m"\n\nINSERT INTO refresh_tokens (user_id, token, expires_at) VALUES ($1, $2, $3) RETURNING *\n" [3mrows_affected[0m[2m=[0m1 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m4.708141ms [3melapsed_secs[0m[2m=[0m0.004708141
[2m2025-05-02T09:51:58.243928Z[0m [32m INFO[0m [2mmotek_api::database::token[0m[2m:[0m Created new refresh token for user_id=ccef2765-a84d-4165-8482-f3ef319caa99
[2m2025-05-02T09:51:58.243941Z[0m [32m INFO[0m [2mmotek_api::routes::auth[0m[2m:[0m User m.ryzko@gmail.com logged in successfully (platform: linux)
[2m2025-05-02T09:57:50.465169Z[0m [32m INFO[0m [2mmotek_api::routes::auth[0m[2m:[0m Refresh attempt with refresh_token=MkqlpZOQ...
[2m2025-05-02T09:57:50.466184Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT * FROM refresh_tokens â€¦" [3mdb.statement[0m[2m=[0m"\n\nSELECT * FROM refresh_tokens WHERE token = $1\n" [3mrows_affected[0m[2m=[0m1 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m659.027Âµs [3melapsed_secs[0m[2m=[0m0.000659027
[2m2025-05-02T09:57:50.466250Z[0m [32m INFO[0m [2mmotek_api::database::token[0m[2m:[0m Fetched refresh token from DB
[2m2025-05-02T09:57:50.466304Z[0m [32m INFO[0m [2mmotek_api::database::token[0m[2m:[0m JWT created for user=ccef2765-a84d-4165-8482-f3ef319caa99 platform=linux
[2m2025-05-02T09:57:50.466314Z[0m [32m INFO[0m [2mmotek_api::routes::auth[0m[2m:[0m Issued new JWT for user_id=ccef2765-a84d-4165-8482-f3ef319caa99
[2m2025-05-02T09:58:33.179214Z[0m [32m INFO[0m [2mmotek_api::database::token[0m[2m:[0m JWT verified for subject=ccef2765-a84d-4165-8482-f3ef319caa99
[2m2025-05-02T09:58:33.180078Z[0m [34mDEBUG[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT * FROM users â€¦" [3mdb.statement[0m[2m=[0m"\n\nSELECT * FROM users WHERE id=$1\n" [3mrows_affected[0m[2m=[0m1 [3mrows_returned[0m[2m=[0m1 [3melapsed[0m[2m=[0m609.775Âµs [3melapsed_secs[0m[2m=[0m0.000609775
[2m2025-05-02T09:58:33.180150Z[0m [32m INFO[0m [2mmotek_api::utils::auth[0m[2m:[0m Authenticated user_id=ccef2765-a84d-4165-8482-f3ef319caa99 email=m.ryzko@gmail.com
[2m2025-05-02T09:58:33.180241Z[0m [34mDEBUG[0m [1mrequest[0m[1m{[0m[3mmethod[0m[2m=[0mGET [3muri[0m[2m=[0m/api/notes [3mversion[0m[2m=[0mHTTP/1.1[1m}[0m[2m:[0m [2mtower_http::trace::on_request[0m[2m:[0m started processing request
[2m2025-05-02T09:58:33.180332Z[0m [32m INFO[0m [1mrequest[0m[1m{[0m[3mmethod[0m[2m=[0mGET [3muri[0m[2m=[0m/api/notes [3mversion[0m[2m=[0mHTTP/1.1[1m}[0m[2m:[0m [2mmotek_api::utils::extractors[0m[2m:[0m Extracted authenticated user_id=ccef2765-a84d-4165-8482-f3ef319caa99
[2m2025-05-02T09:58:33.180367Z[0m [32m INFO[0m [1mrequest[0m[1m{[0m[3mmethod[0m[2m=[0mGET [3muri[0m[2m=[0m/api/notes [3mversion[0m[2m=[0mHTTP/1.1[1m}[0m[2m:[0m [2mmotek_api::routes::notes[0m[2m:[0m User ccef2765-a84d-4165-8482-f3ef319caa99 requested notes list
[2m2025-05-02T09:58:33.181510Z[0m [34mDEBUG[0m [1mrequest[0m[1m{[0m[3mmethod[0m[2m=[0mGET [3muri[0m[2m=[0m/api/notes [3mversion[0m[2m=[0mHTTP/1.1[1m}[0m[2m:[0m [2msqlx::query[0m[2m:[0m [3msummary[0m[2m=[0m"SELECT * FROM notes â€¦" [3mdb.statement[0m[2m=[0m"\n\nSELECT * FROM notes WHERE user_id = $1 ORDER BY updated_at DESC\n" [3mrows_affected[0m[2m=[0m0 [3mrows_returned[0m[2m=[0m0 [3melapsed[0m[2m=[0m831.531Âµs [3melapsed_secs[0m[2m=[0m0.000831531
[2m2025-05-02T09:58:33.181596Z[0m [34mDEBUG[0m [1mrequest[0m[1m{[0m[3mmethod[0m[2m=[0mGET [3muri[0m[2m=[0m/api/notes [3mversion[0m[2m=[0mHTTP/1.1[1m}[0m[2m:[0m [2mtower_http::trace::on_response[0m[2m:[0m finished processing request [3mlatency[0m[2m=[0m1 ms [3mstatus[0m[2m=[0m200
